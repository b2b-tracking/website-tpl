<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" th:content="${siteSeo != null ? siteSeo.description : ''}" content="专业制造企业，提供高品质产品和定制化服务">
  <meta name="keywords" th:content="${siteSeo != null ? siteSeo.keywords : ''}" content="">
  <title th:text="${siteSeo != null ? siteSeo.title : site.name}">专业制造，品质为先 - ManufacturePro</title>
  <link rel="stylesheet" th:href="@{'/' + ${lang} + '/css/style.css'}">
</head>
<body>
  <!-- 导航栏 -->
  <nav class="navbar">
    <div class="nav-container">
      <a th:href="@{'/' + ${lang} + '/'}" class="logo">
        <img th:if="${site.logo}" th:src="@{'/static/' + ${site.logo}}" th:alt="${site.name}" style="height: 40px; vertical-align: middle;">
        <span th:unless="${site.logo}" th:text="${site.name}">ManufacturePro</span>
      </a>
      <button class="mobile-menu-toggle">☰</button>
      <ul class="nav-menu">
        <li th:each="menu : ${menus}">
          <a th:href="@{'/' + ${lang} + '/' + ${menu.target_url}}" class="nav-link"
             th:text="${menu.menu_name}">菜单</a>
        </li>
        <li class="lang-switcher">
          <button class="lang-btn" th:classappend="${lang == 'zh'} ? 'active'" data-lang="zh"
                  th:onclick="'window.location.href=\'' + @{'/zh/'} + '\''">中文</button>
          <button class="lang-btn" th:classappend="${lang == 'en'} ? 'active'" data-lang="en"
                  th:onclick="'window.location.href=\'' + @{'/en/'} + '\''">EN</button>
        </li>
      </ul>
    </div>
  </nav>

  <!-- 轮播Banner -->
  <section class="banner-slider">
    <!-- 动态生成幻灯片 -->
    <div th:each="banner, iterStat : ${banners}"
         class="banner-slide"
         th:classappend="'banner-slide-' + ${iterStat.index + 1} + (${iterStat.first} ? ' active' : '')"
         th:style="${banner.image_url} ? 'background-image: url(' + @{'/static/' + ${banner.image_url}} + '); background-size: cover; background-position: center;' : ''">
      <div class="banner-content">
        <h1 th:text="${banner.title}">Banner标题</h1>
        <p th:text="${banner.subtitle}">Banner描述</p>
        <div class="banner-buttons">
          <a th:href="${banner.link_url}" class="btn" data-i18n="hero.learnMore">了解更多</a>
        </div>
      </div>
    </div>

    <!-- 左右箭头 -->
    <div class="banner-arrow banner-arrow-left" th:if="${#lists.size(banners) > 1}">‹</div>
    <div class="banner-arrow banner-arrow-right" th:if="${#lists.size(banners) > 1}">›</div>

    <!-- 导航点 -->
    <div class="banner-dots" th:if="${#lists.size(banners) > 1}">
      <span th:each="banner, iterStat : ${banners}"
            class="banner-dot"
            th:classappend="${iterStat.first} ? 'active' : ''"></span>
    </div>
  </section>

  <!-- 制造优势 -->
  <section class="container">
    <h2 class="section-title" data-i18n="manufacturing.title">制造优势</h2>
    <p class="section-subtitle" data-i18n="manufacturing.subtitle">先进的生产设备与严格的质量管控</p>

    <div class="products-grid">
      <div class="about-card">
        <div class="icon">🏭</div>
        <h3 data-i18n="manufacturing.capacity">生产能力</h3>
        <p data-i18n="manufacturing.capacityText">年产能超过100万件</p>
      </div>

      <div class="about-card">
        <div class="icon">⚙️</div>
        <h3 data-i18n="manufacturing.equipment">先进设备</h3>
        <p data-i18n="manufacturing.equipmentText">引进国际先进生产线</p>
      </div>

      <div class="about-card">
        <div class="icon">✅</div>
        <h3 data-i18n="manufacturing.quality">质量保证</h3>
        <p data-i18n="manufacturing.qualityText">ISO9001质量管理体系认证</p>
      </div>

      <div class="about-card">
        <div class="icon">🚚</div>
        <h3 data-i18n="manufacturing.delivery">准时交付</h3>
        <p data-i18n="manufacturing.deliveryText">98%准时交付率</p>
      </div>

      <div class="about-card">
        <div class="icon">🎨</div>
        <h3 data-i18n="manufacturing.customization">定制服务</h3>
        <p data-i18n="manufacturing.customizationText">支持OEM/ODM定制</p>
      </div>

      <div class="about-card">
        <div class="icon">📊</div>
        <h3 data-i18n="manufacturing.experience">丰富经验</h3>
        <p data-i18n="manufacturing.experienceText">10年以上制造经验</p>
      </div>
    </div>
  </section>

  <!-- 产品展示区 -->
  <section id="products" class="container" style="background: var(--bg-light); margin: 0; padding: 4rem 2rem; max-width: 100%;">
    <div style="max-width: 1200px; margin: 0 auto;">
      <h2 class="section-title" data-i18n="products.title">产品中心</h2>
      <p class="section-subtitle" data-i18n="products.subtitle">精密制造，质量可靠</p>

      <div class="products-grid">
        <div class="product-card" th:each="product, iterStat : ${products}" th:attr="data-product-id=${product.id}">
          <div class="product-image" th:if="${product.mainImage}"
               th:style="'background-image: url(' + ${product.mainImage} + '); background-size: cover; background-position: center;'">
          </div>
          <div class="product-image" th:unless="${product.mainImage}"
               th:style="'background: linear-gradient(135deg, hsl(' + ${(iterStat.index * 60) % 360} + ', 70%, 60%) 0%, hsl(' + ${((iterStat.index * 60) + 30) % 360} + ', 70%, 50%) 100%);'">
            <span>📦</span>
          </div>
          <div class="product-info">
            <h3 class="product-title" th:text="${product.name}">产品名称</h3>
            <p class="product-description" th:text="${product.shortDescription}">产品描述</p>
            <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
              <a th:href="@{'/' + ${lang} + '/products/' + ${product.id}}" class="btn btn-outline" style="flex: 1;" data-i18n="products.viewDetails">查看详情</a>
              <a href="#contact" class="btn" style="flex: 1;" data-i18n="products.getQuote">获取报价</a>
            </div>
          </div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 3rem;">
        <a th:href="@{'/' + ${lang} + '/products'}" class="btn" data-i18n="products.allProducts">全部产品</a>
      </div>
    </div>
  </section>

  <!-- 新闻资讯预览 -->
  <section class="container">
    <h2 class="section-title" data-i18n="news.latest">最新动态</h2>
    <p class="section-subtitle" data-i18n="news.subtitle">了解公司动态和行业资讯</p>

    <div class="news-grid">
      <div class="news-card" th:each="newsItem, iterStat : ${news}"
           th:onclick="'window.location.href=\'' + @{'/' + ${lang} + '/news/' + ${newsItem.id}} + '\''">
        <div class="news-image"
             th:if="${newsItem.cover_image}"
             th:style="'background-image: url(' + @{'/static/' + ${newsItem.cover_image}} + '); background-size: cover; background-position: center;'">
        </div>
        <div class="news-image" th:unless="${newsItem.cover_image}"
             th:style="'background: linear-gradient(135deg, hsl(' + ${(iterStat.index * 120) % 360} + ', 70%, 60%) 0%, hsl(' + ${((iterStat.index * 120) + 50) % 360} + ', 70%, 50%) 100%);'">
          <span>📰</span>
        </div>
        <div class="news-info">
          <h3 class="news-title" th:text="${newsItem.title}">新闻标题</h3>
          <p class="news-excerpt" th:text="${newsItem.summary}">新闻摘要</p>
          <div class="news-meta">
            <span class="news-date">📅 <span th:text="${#temporals.format(newsItem.publish_time, 'yyyy-MM-dd')}">2026-01-10</span></span>
            <a th:href="@{'/' + ${lang} + '/news/' + ${newsItem.id}}" class="news-read-more" data-i18n="news.readMore">阅读全文 →</a>
          </div>
        </div>
      </div>
    </div>

    <div style="text-align: center; margin-top: 3rem;">
      <a th:href="@{'/' + ${lang} + '/news'}" class="btn" data-i18n="news.more">查看更多新闻</a>
    </div>
  </section>

  <!-- 数据展示 -->
  <section style="background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); color: white; padding: 4rem 2rem;">
    <div class="container" style="max-width: 1200px;">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; text-align: center;">
        <div>
          <div style="font-size: 3rem; font-weight: bold; margin-bottom: 0.5rem;">10+</div>
          <p style="opacity: 0.9;" data-i18n="stats.yearsExperience">年制造经验</p>
        </div>
        <div>
          <div style="font-size: 3rem; font-weight: bold; margin-bottom: 0.5rem;">100万+</div>
          <p style="opacity: 0.9;" data-i18n="stats.annualCapacity">年产能（件）</p>
        </div>
        <div>
          <div style="font-size: 3rem; font-weight: bold; margin-bottom: 0.5rem;">500+</div>
          <p style="opacity: 0.9;" data-i18n="stats.customers">合作客户</p>
        </div>
        <div>
          <div style="font-size: 3rem; font-weight: bold; margin-bottom: 0.5rem;">98%</div>
          <p style="opacity: 0.9;" data-i18n="stats.onTimeDelivery">准时交付率</p>
        </div>
      </div>
    </div>
  </section>

  <!-- 联系我们 / 询价表单 -->
  <section id="contact" class="container">
    <h2 class="section-title" data-i18n="contact.title">联系我们</h2>
    <p class="section-subtitle" data-i18n="contact.subtitle">欢迎咨询报价与合作</p>

    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 2rem;">
      <!-- 联系信息 -->
      <div>
        <div style="background: var(--bg-light); padding: 2rem; border-radius: 12px; margin-bottom: 2rem;" th:if="${contact}">
          <h3 style="margin-bottom: 1.5rem; color: var(--primary-color);" data-i18n="contact.contactInfo">联系方式</h3>
          <div style="display: flex; align-items: start; margin-bottom: 1.5rem;" th:if="${contact.address}">
            <span style="font-size: 1.5rem; margin-right: 1rem;">📍</span>
            <div>
              <strong data-i18n="contact.address">地址</strong>
              <p style="color: var(--text-light); margin-top: 0.3rem;" th:text="${contact.address}">中国广东省深圳市宝安区工业园</p>
            </div>
          </div>
          <div style="display: flex; align-items: start; margin-bottom: 1.5rem;" th:if="${contact.phone}">
            <span style="font-size: 1.5rem; margin-right: 1rem;">📞</span>
            <div>
              <strong data-i18n="contact.phone">电话</strong>
              <p style="color: var(--text-light); margin-top: 0.3rem;" th:text="${contact.phone}">+86 755-1234-5678</p>
            </div>
          </div>
          <div style="display: flex; align-items: start; margin-bottom: 1.5rem;" th:if="${contact.email}">
            <span style="font-size: 1.5rem; margin-right: 1rem;">✉️</span>
            <div>
              <strong data-i18n="contact.email">邮箱</strong>
              <p style="color: var(--text-light); margin-top: 0.3rem;" th:text="${contact.email}">sales@manufacturepro.com</p>
            </div>
          </div>
        </div>

        <div style="background: var(--bg-light); padding: 2rem; border-radius: 12px;">
          <h3 style="margin-bottom: 1rem; color: var(--primary-color);" data-i18n="footer.quickLinks">快速导航</h3>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
            <a href="products" style="color: var(--text-color); text-decoration: none; padding: 0.5rem 0;"><span data-i18n="nav.products">→ 产品中心</span></a>
            <a href="about" style="color: var(--text-color); text-decoration: none; padding: 0.5rem 0;"><span data-i18n="nav.about">→ 关于我们</span></a>
            <a href="news" style="color: var(--text-color); text-decoration: none; padding: 0.5rem 0;"><span data-i18n="nav.news">→ 新闻资讯</span></a>
          </div>
        </div>
      </div>

      <!-- 询价表单 -->
      <div>
        <form id="contact-form" style="background: var(--bg-light); padding: 2rem; border-radius: 12px;" th:action="@{'/' + ${lang} + '/inquiry'}" method="post">
          <h3 style="margin-bottom: 1.5rem; color: var(--primary-color);" data-i18n="contact.onlineInquiry">在线询价</h3>

          <div style="margin-bottom: 1.5rem;">
            <input type="text" name="name" data-i18n="contact.name" placeholder="姓名" required
                   style="width: 100%; padding: 0.8rem; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem;">
          </div>

          <div style="margin-bottom: 1.5rem;">
            <input type="text" name="company" data-i18n="contact.company" placeholder="公司名称" required
                   style="width: 100%; padding: 0.8rem; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem;">
          </div>

          <div style="margin-bottom: 1.5rem;">
            <input type="email" name="email" data-i18n="contact.email" placeholder="邮箱" required
                   style="width: 100%; padding: 0.8rem; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem;">
          </div>

          <div style="margin-bottom: 1.5rem;">
            <input type="tel" name="phone" data-i18n="contact.phone" placeholder="电话" required
                   style="width: 100%; padding: 0.8rem; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem;">
          </div>

          <div style="margin-bottom: 1.5rem;">
            <input type="text" name="product" data-i18n="contact.product" placeholder="产品名称"
                   style="width: 100%; padding: 0.8rem; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem;">
          </div>

          <div style="margin-bottom: 1.5rem;">
            <input type="text" name="quantity" data-i18n="contact.quantity" placeholder="预计数量"
                   style="width: 100%; padding: 0.8rem; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem;">
          </div>

          <div style="margin-bottom: 1.5rem;">
            <textarea name="message" rows="4" data-i18n="contact.message" placeholder="需求说明" required
                      style="width: 100%; padding: 0.8rem; border: 1px solid var(--border-color); border-radius: 8px; font-size: 1rem; resize: vertical;"></textarea>
          </div>

          <button type="submit" class="btn" style="width: 100%;" data-i18n="contact.submitMessage">发送询价</button>
        </form>
      </div>
    </div>
  </section>

  <!-- 页脚 -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3 th:text="${siteI18n != null ? siteI18n.site_name : site.name}">ManufacturePro</h3>
        <p th:text="${siteI18n != null ? siteI18n.description : ''}">我们是一家专业的制造企业，拥有完善的生产设施和质量管理体系，致力于为全球客户提供高品质的产品和定制化服务。</p>
      </div>

      <div class="footer-section">
        <h3 data-i18n="products.title">产品中心</h3>
        <a th:each="category : ${categories}"
           th:href="@{'/' + ${lang} + '/products?category=' + ${category.id}}"
           th:text="${category.name}">产品分类</a>
      </div>

      <div class="footer-section">
        <h3 data-i18n="footer.quickLinks">快速链接</h3>
        <a th:href="@{'/' + ${lang} + '/about'}"><span data-i18n="nav.about">关于我们</span></a>
        <a th:href="@{'/' + ${lang} + '/news'}"><span data-i18n="nav.news">新闻资讯</span></a>
        <a href="#contact"><span data-i18n="nav.contact">联系我们</span></a>
      </div>

      <div class="footer-section" th:if="${contact}">
        <h3 data-i18n="contact.title">联系我们</h3>
        <p th:if="${contact.address}">📍 <span th:text="${contact.address}">中国广东省深圳市</span></p>
        <p th:if="${contact.phone}">📞 <span th:text="${contact.phone}">+86 755-1234-5678</span></p>
        <p th:if="${contact.email}">✉️ <span th:text="${contact.email}">sales@manufacturepro.com</span></p>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2026 <span th:text="${site.name}">ManufacturePro</span>. <span data-i18n="footer.allRightsReserved">保留所有权利</span></p>
      <p th:if="${site.icpNumber}" th:text="${site.icpNumber}"></p>
    </div>
  </footer>

  <!-- 返回顶部按钮 -->
  <div class="back-to-top">↑</div>

  <!-- 脚本 -->
  <script th:src="@{'/' + ${lang} + '/js/i18n.js'}"></script>
  <script th:src="@{'/' + ${lang} + '/js/main.js'}"></script>
</body>
</html>
